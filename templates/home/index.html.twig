{% extends 'base.html.twig' %}

{% block title %}Accueil - Inscription BTS{% endblock %}

{% block body %}
<div class="fr-container fr-py-6w">
    <div class="fr-grid-row fr-grid-row--center">
        <div class="fr-col-12 fr-col-md-10 fr-col-lg-8">
            <!-- Hero -->
            <section aria-labelledby="main-title">
                <h1 id="main-title" class="fr-h1">Inscription en Brevet de Technicien Supérieur (BTS)</h1>
                <p class="fr-text--lead">
                    Bienvenue sur la plateforme officielle d'inscription aux formations de BTS pour l'année universitaire 2025-2026.
                </p>
            </section>

            <!-- Alertes importantes -->
            <section aria-labelledby="info-title">
                <h2 id="info-title" class="fr-sr-only">Informations importantes</h2>
                <div class="fr-alert fr-alert--info fr-mb-4w" role="status">
                    <h3 class="fr-alert__title">Période d'inscription</h3>
                    <p>Les inscriptions sont ouvertes du 15 janvier au 31 mars 2025.</p>
                </div>
                
                {% if app.user and app.session.get('inscription_brouillon') %}
                    <div class="fr-alert fr-alert--warning fr-mb-4w" role="status">
                        <h3 class="fr-alert__title">Inscription en cours</h3>
                        <p>Vous avez une inscription non terminée. <a href="/inscription" class="fr-link">Reprendre mon inscription</a></p>
                    </div>
                {% endif %}
            </section>

            <!-- Boutons d'action -->
            <nav aria-label="Actions principales">
                <div class="fr-btns-group fr-btns-group--inline fr-mb-6w">
                    {% if app.user %}
                        {% if is_granted('ROLE_ADMIN') %}
                            <a class="fr-btn" href="{{ path('app_admin_dashboard') }}" title="Accéder au panneau d'administration">
                                Administration
                            </a>
                        {% else %}
                            {% if hasInscription %}
                                <button class="fr-btn" onclick="alert('Vous avez déjà soumis une inscription. Vous ne pouvez pas en créer une nouvelle. Consultez votre dossier dans la section \'Suivre mon dossier\'.')" title="Vous avez déjà une inscription">
                                    Commencer mon inscription
                                </button>
                            {% elseif app.session.get('inscription_brouillon') %}
                                <a class="fr-btn" href="/inscription" title="Reprendre mon inscription en cours">
                                    Reprendre mon inscription
                                </a>
                            {% else %}
                                <a class="fr-btn" href="/inscription" title="Accéder au formulaire d'inscription">
                                    Commencer mon inscription
                                </a>
                            {% endif %}
                            <a class="fr-btn fr-btn--secondary" href="/suivi" title="Consulter l'état de mon dossier">
                                Suivre mon dossier
                            </a>
                        {% endif %}
                        <a class="fr-btn fr-btn--tertiary" href="{{ path('app_logout') }}" title="Me déconnecter de mon compte">
                            Déconnexion
                        </a>
                    {% else %}
                        <a class="fr-btn" href="{{ path('app_login') }}" title="Me connecter à mon espace personnel">
                            Se connecter
                        </a>
                        <a class="fr-btn fr-btn--secondary" href="{{ path('app_register') }}" title="Créer un nouveau compte utilisateur">
                            Créer un compte
                        </a>
                    {% endif %}
                </div>
            </nav>

            <!-- Cartes informatives -->
            <section aria-labelledby="ressources-title">
                <h2 id="ressources-title" class="fr-sr-only">Ressources disponibles</h2>
                <div class="fr-grid-row fr-grid-row--gutters">
                    <div class="fr-col-12 fr-col-md-4">
                        <div class="fr-card fr-enlarge-link">
                            <div class="fr-card__body">
                                <div class="fr-card__content">
                                    <h3 class="fr-card__title">
                                        <a href="/documents" class="fr-card__link" title="Consulter la liste complète des documents requis">Documents requis</a>
                                    </h3>
                                    <p class="fr-card__desc">Consultez la liste des pièces justificatives nécessaires</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="fr-col-12 fr-col-md-4">
                        <div class="fr-card fr-enlarge-link">
                            <div class="fr-card__body">
                                <div class="fr-card__content">
                                    <h3 class="fr-card__title">
                                        <a href="/formations" class="fr-card__link" title="Découvrir toutes les formations BTS disponibles">Formations disponibles</a>
                                    </h3>
                                    <p class="fr-card__desc">Découvrez les spécialités de BTS proposées</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="fr-col-12 fr-col-md-4">
                        <div class="fr-card fr-enlarge-link">
                            <div class="fr-card__body">
                                <div class="fr-card__content">
                                    <h3 class="fr-card__title">
                                        <a href="/aide" class="fr-card__link" title="Obtenir de l'aide et consulter la FAQ">Besoin d'aide ?</a>
                                    </h3>
                                    <p class="fr-card__desc">Consultez notre FAQ ou contactez-nous</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Accordéon FAQ -->
            <section aria-labelledby="faq-title" class="fr-mt-6w">
                <h2 id="faq-title" class="fr-h2">Questions fréquentes</h2>
                <div class="fr-accordions-group">
                    <section class="fr-accordion">
                        <h3 class="fr-accordion__title">
                            <button class="fr-accordion__btn" aria-expanded="false" aria-controls="accordion-1">Qui peut s'inscrire en BTS ?</button>
                        </h3>
                        <div class="fr-collapse" id="accordion-1">
                            <p>Les titulaires du baccalauréat ou d'un diplôme équivalent peuvent s'inscrire en BTS. Certaines spécialités peuvent avoir des prérequis spécifiques.</p>
                        </div>
                    </section>
                    <section class="fr-accordion">
                        <h3 class="fr-accordion__title">
                            <button class="fr-accordion__btn" aria-expanded="false" aria-controls="accordion-2">Quels documents dois-je fournir ?</button>
                        </h3>
                        <div class="fr-collapse" id="accordion-2">
                            <p>Vous devez fournir : une copie de votre diplôme du baccalauréat, une pièce d'identité, un justificatif de domicile et vos bulletins scolaires de terminale.</p>
                        </div>
                    </section>
                    <section class="fr-accordion">
                        <h3 class="fr-accordion__title">
                            <button class="fr-accordion__btn" aria-expanded="false" aria-controls="accordion-3">Comment suivre l'avancement de mon dossier ?</button>
                        </h3>
                        <div class="fr-collapse" id="accordion-3">
                            <p>Vous pouvez suivre votre dossier en vous connectant à votre espace personnel avec votre numéro de candidat et votre mot de passe.</p>
                        </div>
                    </section>
                </div>
            </section>
        </div>
    </div>
</div>
{% endblock %}